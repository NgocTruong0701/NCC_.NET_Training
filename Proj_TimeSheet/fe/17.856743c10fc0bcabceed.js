(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"+RBv":function(t,e,i){"use strict";i.d(e,"a",function(){return a});var r=i("mrSG"),o=i("wzdi"),n=i("2WpN"),s=i("KALY"),a=function(t){function e(e,i,r,o){var n=t.call(this,e)||this;return n._userService=i,n._dialogRef=r,n.data=o,n.shPassword=!1,n.shPasswordUser=!1,n.isLoading=!1,n}return Object(r.__extends)(e,t),e.prototype.ngOnInit=function(){this.isLoading=!0,this.resetPasswordDto=new s.m,this.resetPasswordDto.userId=this.data.id,this.isLoading=!1},e.prototype.randomPassword=function(){var t=Math.random().toString(36).substr(2,10);this.resetPasswordDto.newPassword=t},e.prototype.resetPassword=function(){var t=this;this.isLoading=!0,this._userService.resetPassword(this.resetPasswordDto).pipe(Object(n.a)(function(){t.isLoading=!1})).subscribe(function(e){e?(t.notify.info("Password Reset Success"),t.close(!0)):t.notify.error("Password Reset Error, Try again!")})},e.prototype.close=function(t){this._dialogRef.close(t)},e}(o.a)},"/A9x":function(t,e,i){"use strict";i.d(e,"a",function(){return r});var r=function(){function t(t,e){this.validateEqual=t,this.reverse=e}return Object.defineProperty(t.prototype,"isReverse",{get:function(){return!!this.reverse&&"true"===this.reverse},enumerable:!0,configurable:!0}),t.prototype.validate=function(t){var e=t.value,i=t.root.get(this.validateEqual);return i&&e!==i.value&&!this.isReverse?{validateEqual:!1}:(i&&e===i.value&&this.isReverse&&(delete i.errors.validateEqual,Object.keys(i.errors).length||i.setErrors(null)),i&&e!==i.value&&this.isReverse&&i.setErrors({validateEqual:!1}),null)},t}()},TMu4:function(t,e,i){"use strict";var r=i("CcnG"),o=i("Ip0R"),n=i("fH53");i.d(e,"a",function(){return s}),i.d(e,"c",function(){return l}),i.d(e,"b",function(){return f});var s=r["\u0275crt"]({encapsulation:0,styles:[[".btn-file[_ngcontent-%COMP%]{position:relative;overflow:hidden}.btn-customs[_ngcontent-%COMP%]{height:40px;width:100%}.btn-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;font-size:50px;opacity:0;right:0;top:0}.mt-15[_ngcontent-%COMP%]{margin-top:5%}.tools[_ngcontent-%COMP%]{background:#000;float:left}.tools[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#fff;fill:#fff;height:48px;width:48px;text-align:center;line-height:46px;position:relative}.tools[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#141414}.tools[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{position:absolute;display:none;left:50px;top:15px;background:#fff;color:#222;font-size:.7rem;line-height:18px;padding:0 5px;white-space:nowrap}.tools[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   .desc[_ngcontent-%COMP%]{display:block}svg[_ngcontent-%COMP%]{display:none;position:absolute}.tools[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%]{top:12px;left:12px;display:block}.image-upload[_ngcontent-%COMP%]{position:absolute;bottom:0;left:75px}.image-upload[_ngcontent-%COMP%]   .image-upload__label[_ngcontent-%COMP%]{display:block;width:25px;height:25px;color:#fff;text-align:center;padding:5px;bottom:0;background-color:#404040}.image-upload[_ngcontent-%COMP%]   .image-upload__input[_ngcontent-%COMP%]{position:absolute;left:0;top:0;right:0;bottom:0;font-size:1;width:0;height:100%;opacity:0}.image-upload[_ngcontent-%COMP%]   .image-upload__label[_ngcontent-%COMP%]:hover{cursor:pointer}"]],data:{}});function a(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,0,"i",[["class","fa fa-spinner fa-spin fa-3x fa-fw"]],null,null,null,null,null))],null,null)}function h(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"i",[["class","material-icons"]],null,null,null,null,null)),(t()(),r["\u0275ted"](-1,null,["cloud_upload"]))],null,null)}function p(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"span",[["style","font-weight:bold;color:green;"]],null,null,null,null,null)),(t()(),r["\u0275ted"](1,null,[" ","% "]))],null,function(t,e){t(e,1,0,e.component.progress)})}function c(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"span",[["style","font-weight:bold;color:green;"]],null,null,null,null,null)),(t()(),r["\u0275ted"](1,null,[" "," "]))],null,function(t,e){t(e,1,0,e.component.message)})}function l(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,11,null,null,null,null,null,null,null)),(t()(),r["\u0275eld"](1,0,null,null,6,"span",[],[[8,"className",0]],null,null,null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,a)),r["\u0275did"](3,16384,null,0,o.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,h)),r["\u0275did"](5,16384,null,0,o.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275ted"](6,null,[" "," "])),(t()(),r["\u0275eld"](7,0,[["file",1]],null,0,"input",[["multiple",""],["type","file"]],[[8,"accept",0]],[[null,"input"]],function(t,e,i){var r=!0;return"input"===e&&(r=!1!==t.component.onFileSelected(i)&&r),r},null,null)),(t()(),r["\u0275and"](16777216,null,null,1,null,p)),r["\u0275did"](9,16384,null,0,o.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),r["\u0275and"](16777216,null,null,1,null,c)),r["\u0275did"](11,16384,null,0,o.NgIf,[r.ViewContainerRef,r.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(t,e){var i=e.component;t(e,3,0,i.isLoading),t(e,5,0,!i.isLoading),t(e,9,0,i.progress>0&&i.progress<100),t(e,11,0,i.message)},function(t,e){var i=e.component;t(e,1,0,r["\u0275inlineInterpolate"](1,"",null!=i.custom?i.custom:"col-md-12 btn-customs btn btn-danger outline btn-file","")),t(e,6,0,i.title?i.title:"Select image"),t(e,7,0,r["\u0275inlineInterpolate"](1,"",i.getFileType(),""))})}function u(t){return r["\u0275vid"](0,[(t()(),r["\u0275eld"](0,0,null,null,1,"file-upload",[],null,null,null,l,s)),r["\u0275did"](1,49152,null,0,n.a,[],null,null)],null,null)}var f=r["\u0275ccf"]("file-upload",n.a,u,{custom:"custom",title:"title",fileType:"fileType",page:"page",isLoading:"isLoading"},{outputImgBase64:"outputImgBase64",outputFileInfo:"outputFileInfo"},[])},YMd0:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var r=i("mrSG"),o=i("wzdi"),n=(i("uflw"),function(t){function e(e,i,r,o){var n=t.call(this,e)||this;return n.data=i,n.userService=r,n.diaLofRef=o,n.isLoading=!1,n.title="angular-image-uploader",n.imageChangedEvent="",n.id=i,n}return Object(r.__extends)(e,t),e.prototype.ngOnInit=function(){},e.prototype.fileChangeEvent=function(t){this.imageChangedEvent=t},e.prototype.imageCropped=function(t){this.croppedImage=t.base64,this.file=navigator.msSaveBlob?this.blobToFile(this.dataURItoBlob(this.croppedImage),"image.jpg"):new File([this.dataURItoBlob(this.croppedImage)],"image.jpg")},e.prototype.imageLoaded=function(){},e.prototype.cropperReady=function(){},e.prototype.loadImageFailed=function(){},e.prototype.dataURItoBlob=function(t){for(var e=atob(t.split(",")[1]),i=(t.split(",")[0].split(":")[1].split(";"),new ArrayBuffer(e.length)),r=new Uint8Array(i),o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return new Blob([i],{type:"image/jpeg"})},e.prototype.blobToFile=function(t,e){var i=t;return Object.assign(i,{name:"",lastModified:""}),i.lastModifiedDate=new Date,i.name=e,i},e}(o.a))},efFR:function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return s});var r=i("CcnG"),o=i("mrSG"),n=function(){function t(t,e){this.sanitizer=t,this.cd=e,this.setImageMaxSizeRetries=0,this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.exifTransform={rotate:0,flip:!1},this.stepSize=3,this.marginLeft="0px",this.imageVisible=!1,this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.containWithinAspectRatio=!1,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage="center",this.disabled=!1,this.imageCropped=new r.EventEmitter,this.startCropImage=new r.EventEmitter,this.imageLoaded=new r.EventEmitter,this.cropperReady=new r.EventEmitter,this.loadImageFailed=new r.EventEmitter,this.initCropper()}return Object.defineProperty(t.prototype,"imageChangedEvent",{set:function(t){this.initCropper(),t&&t.target&&t.target.files&&t.target.files.length>0&&this.loadImageFile(t.target.files[0])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageBase64",{set:function(t){this.initCropper(),this.checkExifAndLoadBase64Image(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imageFile",{set:function(t){this.initCropper(),t&&this.loadImageFile(t)},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.originalImage&&this.originalImage.complete&&this.exifTransform&&(t.containWithinAspectRatio||t.canvasRotation)&&this.transformOriginalImage(),t.cropper&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.checkCropperPosition(!1),this.doAutoCrop(),this.cd.markForCheck()),t.aspectRatio&&this.imageVisible&&this.resetCropperPosition(),t.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop())},t.prototype.setCssTransform=function(){this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle("scaleX("+(this.transform.scale||1)*(this.transform.flipH?-1:1)+")scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+")rotate("+(this.transform.rotate||0)+"deg)")},t.prototype.ngOnInit=function(){this.stepSize=this.initialStepSize},t.prototype.initCropper=function(){this.imageVisible=!1,this.transformedImage=null,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.originalSize={width:0,height:0},this.transformedSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4},t.prototype.loadImageFile=function(t){var e=this,i=new FileReader;i.onload=function(i){e.isValidImageType(t.type)?e.checkExifAndLoadBase64Image(i.target.result):e.loadImageFailed.emit()},i.readAsDataURL(t)},t.prototype.isValidImageType=function(t){return/image\/(png|jpg|jpeg|bmp|gif|tiff)/.test(t)},t.prototype.checkExifAndLoadBase64Image=function(t){var e=this;return new Promise(function(i,r){var o=function(t){e.originalImage=null,e.originalBase64=null,r(t)};e.originalImage=new Image,e.originalImage.onload=function(){e.originalBase64=t,e.exifTransform=function(t){switch("string"==typeof t&&(t=function(e){var i=new DataView(function(t){t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var e=atob(t),i=e.length,r=new Uint8Array(i),o=0;o<i;o++)r[o]=e.charCodeAt(o);return r.buffer}(t));if(65496!=i.getUint16(0,!1))return-2;for(var r=i.byteLength,o=2;o<r;){if(i.getUint16(o+2,!1)<=8)return-1;var n=i.getUint16(o,!1);if(o+=2,65505==n){if(1165519206!=i.getUint32(o+=2,!1))return-1;var s=18761==i.getUint16(o+=6,!1);o+=i.getUint32(o+4,s);var a=i.getUint16(o,s);o+=2;for(var h=0;h<a;h++)if(274==i.getUint16(o+12*h,s))return i.getUint16(o+12*h+8,s)}else{if(65280!=(65280&n))break;o+=i.getUint16(o,!1)}}return-1}()),t){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}(t),e.originalSize.width=e.originalImage.naturalWidth,e.originalSize.height=e.originalImage.naturalHeight,e.transformOriginalImage().then(function(){return i()}).catch(o)},e.originalImage.onerror=o,e.originalImage.src=t})},t.prototype.getTransformedSize=function(){var t=this.canvasRotation+this.exifTransform.rotate;if(this.containWithinAspectRatio){if(t%2){var e=this.originalSize.width*this.aspectRatio,i=this.originalSize.height/this.aspectRatio;return{width:Math.max(this.originalSize.height,e),height:Math.max(this.originalSize.width,i)}}return e=this.originalSize.height*this.aspectRatio,i=this.originalSize.width/this.aspectRatio,{width:Math.max(this.originalSize.width,e),height:Math.max(this.originalSize.height,i)}}return t%2?{height:this.originalSize.width,width:this.originalSize.height}:{width:this.originalSize.width,height:this.originalSize.height}},t.prototype.transformImageBase64=function(){var t=this.canvasRotation+this.exifTransform.rotate,e=this.getTransformedSize(),i=document.createElement("canvas");i.width=e.width,i.height=e.height;var r=i.getContext("2d");return r.setTransform(this.exifTransform.flip?-1:1,0,0,1,i.width/2,i.height/2),r.rotate(Math.PI*(t/2)),r.drawImage(this.originalImage,-this.originalSize.width/2,-this.originalSize.height/2),Promise.resolve(i.toDataURL())},t.prototype.setTransformedImage=function(t){var e=this;return new Promise(function(i,r){e.transformedBase64=t,e.safeImgDataUrl=e.sanitizer.bypassSecurityTrustResourceUrl(t),e.transformedImage=new Image,e.transformedImage.onload=function(){e.transformedSize.width=e.transformedImage.naturalWidth,e.transformedSize.height=e.transformedImage.naturalHeight,i(),e.cd.markForCheck()},e.transformedImage.onerror=function(){e.transformedImage=null,r()},e.transformedImage.src=e.transformedBase64})},t.prototype.transformOriginalImage=function(){var t=this;return this.originalImage&&this.originalImage.complete&&this.exifTransform?this.transformImageBase64().then(function(e){return t.setTransformedImage(e)}):Promise.reject(new Error("No Image Loaded"))},t.prototype.imageLoadedInView=function(){var t=this;null!=this.transformedImage&&(this.imageLoaded.emit(),this.setImageMaxSizeRetries=0,setTimeout(function(){return t.checkImageMaxSizeRecursively()}))},t.prototype.checkImageMaxSizeRecursively=function(){var t=this;this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImage&&this.sourceImage.nativeElement&&this.sourceImage.nativeElement.offsetWidth>0?(this.setMaxSize(),this.setCropperScaledMinSize(),this.resetCropperPosition(),this.cropperReady.emit(Object(o.__assign)({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(function(){t.checkImageMaxSizeRecursively()},50))},t.prototype.onResize=function(){this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize()},t.prototype.resizeCropperPosition=function(){var t=this.sourceImage.nativeElement;this.maxSize.width===t.offsetWidth&&this.maxSize.height===t.offsetHeight||(this.cropper.x1=this.cropper.x1*t.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*t.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*t.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*t.offsetHeight/this.maxSize.height)},t.prototype.resetCropperPosition=function(){var t=this.sourceImage.nativeElement;if(this.maintainAspectRatio)if(t.offsetWidth/this.aspectRatio<t.offsetHeight){this.cropper.x1=0,this.cropper.x2=t.offsetWidth;var e=t.offsetWidth/this.aspectRatio;this.cropper.y1=(t.offsetHeight-e)/2,this.cropper.y2=this.cropper.y1+e}else{this.cropper.y1=0,this.cropper.y2=t.offsetHeight;var i=t.offsetHeight*this.aspectRatio;this.cropper.x1=(t.offsetWidth-i)/2,this.cropper.x2=this.cropper.x1+i}else this.cropper.x1=0,this.cropper.x2=t.offsetWidth,this.cropper.y1=0,this.cropper.y2=t.offsetHeight;this.doAutoCrop(),this.imageVisible=!0},t.prototype.keyboardAccess=function(t){this.changeKeyboardStepSize(t),this.keyboardMoveCropper(t)},t.prototype.changeKeyboardStepSize=function(t){t.key>="1"&&t.key<="9"&&(this.stepSize=+t.key)},t.prototype.keyboardMoveCropper=function(t){if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){var e=t.shiftKey?"resize":"move",i=t.altKey?this.getInvertedPositionForKey(t.key):this.getPositionForKey(t.key),r=this.getEventForKey(t.key,this.stepSize);t.preventDefault(),t.stopPropagation(),this.startMove({clientX:0,clientY:0},e,i),this.moveImg(r),this.moveStop()}},t.prototype.getPositionForKey=function(t){switch(t){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";case"ArrowLeft":default:return"left"}},t.prototype.getInvertedPositionForKey=function(t){switch(t){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";case"ArrowLeft":default:return"right"}},t.prototype.getEventForKey=function(t,e){switch(t){case"ArrowUp":return{clientX:0,clientY:-1*e};case"ArrowRight":return{clientX:e,clientY:0};case"ArrowDown":return{clientX:0,clientY:e};case"ArrowLeft":default:return{clientX:-1*e,clientY:0}}},t.prototype.startMove=function(t,e,i){void 0===i&&(i=null),t.preventDefault&&t.preventDefault(),this.moveStart=Object(o.__assign)({active:!0,type:e,position:i,clientX:this.getClientX(t),clientY:this.getClientY(t)},this.cropper)},t.prototype.moveImg=function(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),"move"===this.moveStart.type?(this.move(t),this.checkCropperPosition(!0)):"resize"===this.moveStart.type&&(this.resize(t),this.checkCropperPosition(!1)),this.cd.detectChanges())},t.prototype.setMaxSize=function(){if(this.sourceImage){var t=this.sourceImage.nativeElement;this.maxSize.width=t.offsetWidth,this.maxSize.height=t.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}},t.prototype.setCropperScaledMinSize=function(){this.transformedImage?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20)},t.prototype.setCropperScaledMinWidth=function(){this.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.transformedImage.width*this.maxSize.width):20},t.prototype.setCropperScaledMinHeight=function(){this.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.transformedImage.height*this.maxSize.height):20},t.prototype.checkCropperPosition=function(t){void 0===t&&(t=!1),this.cropper.x1<0&&(this.cropper.x2-=t?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=t?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=t?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=t?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)},t.prototype.moveStop=function(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())},t.prototype.move=function(t){var e=this.getClientX(t)-this.moveStart.clientX,i=this.getClientY(t)-this.moveStart.clientY;this.cropper.x1=this.moveStart.x1+e,this.cropper.y1=this.moveStart.y1+i,this.cropper.x2=this.moveStart.x2+e,this.cropper.y2=this.moveStart.y2+i},t.prototype.resize=function(t){var e=this.getClientX(t)-this.moveStart.clientX,i=this.getClientY(t)-this.moveStart.clientY;switch(this.moveStart.position){case"left":this.cropper.x1=Math.min(this.moveStart.x1+e,this.cropper.x2-this.cropperScaledMinWidth);break;case"topleft":this.cropper.x1=Math.min(this.moveStart.x1+e,this.cropper.x2-this.cropperScaledMinWidth),this.cropper.y1=Math.min(this.moveStart.y1+i,this.cropper.y2-this.cropperScaledMinHeight);break;case"top":this.cropper.y1=Math.min(this.moveStart.y1+i,this.cropper.y2-this.cropperScaledMinHeight);break;case"topright":this.cropper.x2=Math.max(this.moveStart.x2+e,this.cropper.x1+this.cropperScaledMinWidth),this.cropper.y1=Math.min(this.moveStart.y1+i,this.cropper.y2-this.cropperScaledMinHeight);break;case"right":this.cropper.x2=Math.max(this.moveStart.x2+e,this.cropper.x1+this.cropperScaledMinWidth);break;case"bottomright":this.cropper.x2=Math.max(this.moveStart.x2+e,this.cropper.x1+this.cropperScaledMinWidth),this.cropper.y2=Math.max(this.moveStart.y2+i,this.cropper.y1+this.cropperScaledMinHeight);break;case"bottom":this.cropper.y2=Math.max(this.moveStart.y2+i,this.cropper.y1+this.cropperScaledMinHeight);break;case"bottomleft":this.cropper.x1=Math.min(this.moveStart.x1+e,this.cropper.x2-this.cropperScaledMinWidth),this.cropper.y2=Math.max(this.moveStart.y2+i,this.cropper.y1+this.cropperScaledMinHeight)}this.maintainAspectRatio&&this.checkAspectRatio()},t.prototype.checkAspectRatio=function(){var t=0,e=0;switch(this.moveStart.position){case"top":this.cropper.x2=this.cropper.x1+(this.cropper.y2-this.cropper.y1)*this.aspectRatio,t=Math.max(this.cropper.x2-this.maxSize.width,0),e=Math.max(0-this.cropper.y1,0),(t>0||e>0)&&(this.cropper.x2-=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y1+=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"bottom":this.cropper.x2=this.cropper.x1+(this.cropper.y2-this.cropper.y1)*this.aspectRatio,t=Math.max(this.cropper.x2-this.maxSize.width,0),e=Math.max(this.cropper.y2-this.maxSize.height,0),(t>0||e>0)&&(this.cropper.x2-=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y2-=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"topleft":this.cropper.y1=this.cropper.y2-(this.cropper.x2-this.cropper.x1)/this.aspectRatio,t=Math.max(0-this.cropper.x1,0),e=Math.max(0-this.cropper.y1,0),(t>0||e>0)&&(this.cropper.x1+=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y1+=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"topright":this.cropper.y1=this.cropper.y2-(this.cropper.x2-this.cropper.x1)/this.aspectRatio,t=Math.max(this.cropper.x2-this.maxSize.width,0),e=Math.max(0-this.cropper.y1,0),(t>0||e>0)&&(this.cropper.x2-=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y1+=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"right":case"bottomright":this.cropper.y2=this.cropper.y1+(this.cropper.x2-this.cropper.x1)/this.aspectRatio,t=Math.max(this.cropper.x2-this.maxSize.width,0),e=Math.max(this.cropper.y2-this.maxSize.height,0),(t>0||e>0)&&(this.cropper.x2-=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y2-=e*this.aspectRatio>t?e:t/this.aspectRatio);break;case"left":case"bottomleft":this.cropper.y2=this.cropper.y1+(this.cropper.x2-this.cropper.x1)/this.aspectRatio,t=Math.max(0-this.cropper.x1,0),e=Math.max(this.cropper.y2-this.maxSize.height,0),(t>0||e>0)&&(this.cropper.x1+=e*this.aspectRatio>t?e*this.aspectRatio:t,this.cropper.y2-=e*this.aspectRatio>t?e:t/this.aspectRatio)}},t.prototype.doAutoCrop=function(){this.autoCrop&&this.crop()},t.prototype.crop=function(){if(this.sourceImage&&this.sourceImage.nativeElement&&null!=this.transformedImage){this.startCropImage.emit();var t=this.getImagePosition(),e=t.x2-t.x1,i=t.y2-t.y1,r=document.createElement("canvas");r.width=e,r.height=i;var n=r.getContext("2d");if(n){null!=this.backgroundColor&&(n.fillStyle=this.backgroundColor,n.fillRect(0,0,e,i));var s=(this.transform.scale||1)*(this.transform.flipH?-1:1),a=(this.transform.scale||1)*(this.transform.flipV?-1:1);n.setTransform(s,0,0,a,this.transformedSize.width/2,this.transformedSize.height/2),n.translate(-t.x1/s,-t.y1/a),n.rotate((this.transform.rotate||0)*Math.PI/180),n.drawImage(this.transformedImage,-this.transformedSize.width/2,-this.transformedSize.height/2);var h={width:e,height:i,imagePosition:t,cropperPosition:Object(o.__assign)({},this.cropper)};this.containWithinAspectRatio&&(h.offsetImagePosition=this.getOffsetImagePosition());var p=this.getResizeRatio(e,i);return 1!==p&&(h.width=Math.round(e*p),h.height=this.maintainAspectRatio?Math.round(h.width/this.aspectRatio):Math.round(i*p),function(t,e,i){var r=t.width,o=t.height,n=r/(e=Math.round(e)),s=o/(i=Math.round(i)),a=Math.ceil(n/2),h=Math.ceil(s/2),p=t.getContext("2d");if(p){for(var c=p.getImageData(0,0,r,o),l=p.createImageData(e,i),u=c.data,f=l.data,g=0;g<i;g++)for(var m=0;m<e;m++){var d=4*(m+g*e),y=g*s,x=0,v=0,S=0,M=0,w=0,C=0,I=0,R=Math.floor(m*n),z=Math.floor(g*s),b=Math.ceil((m+1)*n),A=Math.ceil((g+1)*s);b=Math.min(b,r),A=Math.min(A,o);for(var P=z;P<A;P++)for(var k=Math.abs(y-P)/h,T=m*n,U=k*k,O=R;O<b;O++){var _=Math.abs(T-O)/a,E=Math.sqrt(U+_*_);if(!(E>=1)){var W=4*(O+P*r);I+=(x=2*E*E*E-3*E*E+1)*u[W+3],S+=x,u[W+3]<255&&(x=x*u[W+3]/250),M+=x*u[W],w+=x*u[W+1],C+=x*u[W+2],v+=x}}f[d]=M/v,f[d+1]=w/v,f[d+2]=C/v,f[d+3]=I/S}t.width=e,t.height=i,p.putImageData(l,0,0)}}(r,h.width,h.height)),h.base64=this.cropToBase64(r),this.imageCropped.emit(h),h}}return null},t.prototype.getImagePosition=function(){var t=this.transformedSize.width/this.sourceImage.nativeElement.offsetWidth,e={x1:Math.round(this.cropper.x1*t),y1:Math.round(this.cropper.y1*t),x2:Math.round(this.cropper.x2*t),y2:Math.round(this.cropper.y2*t)};return this.containWithinAspectRatio||(e.x1=Math.max(e.x1,0),e.y1=Math.max(e.y1,0),e.x2=Math.min(e.x2,this.transformedSize.width),e.y2=Math.min(e.y2,this.transformedSize.height)),e},t.prototype.getOffsetImagePosition=function(){var t,e,i=this.transformedSize.width/this.sourceImage.nativeElement.offsetWidth;(this.canvasRotation+this.exifTransform.rotate)%2?(t=(this.transformedSize.width-this.originalSize.height)/2,e=(this.transformedSize.height-this.originalSize.width)/2):(t=(this.transformedSize.width-this.originalSize.width)/2,e=(this.transformedSize.height-this.originalSize.height)/2);var r={x1:Math.round(this.cropper.x1*i)-t,y1:Math.round(this.cropper.y1*i)-e,x2:Math.round(this.cropper.x2*i)-t,y2:Math.round(this.cropper.y2*i)-e};return this.containWithinAspectRatio||(r.x1=Math.max(r.x1,0),r.y1=Math.max(r.y1,0),r.x2=Math.min(r.x2,this.transformedSize.width),r.y2=Math.min(r.y2,this.transformedSize.height)),r},t.prototype.cropToBase64=function(t){return t.toDataURL("image/"+this.format,this.getQuality())},t.prototype.getQuality=function(){return Math.min(1,Math.max(0,this.imageQuality/100))},t.prototype.getResizeRatio=function(t,e){if(this.resizeToWidth>0){if(!this.onlyScaleDown||t>this.resizeToWidth)return this.resizeToWidth/t}else if(this.resizeToHeight>0&&(!this.onlyScaleDown||e>this.resizeToHeight))return this.resizeToHeight/e;return 1},t.prototype.getClientX=function(t){return(t.touches&&t.touches[0]?t.touches[0].clientX:t.clientX)||0},t.prototype.getClientY=function(t){return(t.touches&&t.touches[0]?t.touches[0].clientY:t.clientY)||0},t}(),s=function(){return function(){}}()},fH53:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var r=i("CcnG"),o=function(){function t(){this.outputImgBase64=new r.EventEmitter,this.outputFileInfo=new r.EventEmitter,this.isLoading=!1}return t.prototype.onFileSelected=function(t){var e=this;if(t.target.files&&t.target.files[0]){var i=new FileReader;i.readAsDataURL(t.target.files[0]),this.outputFileInfo.emit(t.target.files[0]),t.target.files&&t.target.files[0].type.includes("image")&&(i.onload=function(t){e.outputImgBase64.emit(t.target.result)})}},t.prototype.getFileType=function(){switch(this.fileType){case"image":return"image/*";case"video":return"video/*";case"application":return"application/*";default:return this.fileType}},t}()},"fei/":function(t,e,i){"use strict";i.d(e,"a",function(){return a});var r=i("mrSG"),o=i("6vV5"),n=i("CcnG"),s=i("t/Na"),a=function(t){function e(e){return t.call(this,e)||this}return Object(r.__extends)(e,t),e.prototype.changeUrl=function(){return"Configuration"},e.prototype.getAll=function(){return this.http.get(this.rootUrl+"/Get")},e.prototype.change=function(t){return this.http.post(this.rootUrl+"/Change",t)},e.prototype.GetWorkingTimeConfigAllBranch=function(){return this.http.get(this.rootUrl+"/GetWorkingTimeConfigAllBranch")},e.prototype.GetHRMConfig=function(){return this.http.get(this.rootUrl+"/GetHRMConfig")},e.prototype.SetHRMConfig=function(t){return this.http.post(this.rootUrl+"/SetHRMConfig",t)},e.prototype.SetProjectConfig=function(t){return this.http.post(this.rootUrl+"/SetProjectConfig",t)},e.prototype.GetProjectConfig=function(){return this.http.get(this.rootUrl+"/GetProjectConfig")},e.prototype.GetKomuConfig=function(){return this.http.get(this.rootUrl+"/GetKomuConfig")},e.prototype.SetKomuConfig=function(t){return this.http.post(this.rootUrl+"/SetKomuConfig",t)},e.prototype.GetNotificationSetting=function(){return this.http.get(this.rootUrl+"/GetNotificationSetting")},e.prototype.SetNotificationSetting=function(t){return this.http.post(this.rootUrl+"/SetNotificationSetting",t)},e.prototype.GetNRITConfig=function(){return this.http.get(this.rootUrl+"/GetNRITConfig")},e.prototype.SetNRITConfig=function(t){return this.http.post(this.rootUrl+"/SetNRITConfig",t)},e.prototype.GetUnlockTimesheetConfig=function(){return this.http.get(this.rootUrl+"/GetUnlockTimesheetConfig")},e.prototype.SetUnlockTimesheetConfig=function(t){return this.http.post(this.rootUrl+"/SetUnlockTimesheetConfig",t)},e.prototype.checkConnectToProject=function(){return this.http.post(this.rootUrl+"/CheckConnectToProject",{})},e.prototype.checkConnectToHRM=function(){return this.http.post(this.rootUrl+"/CheckConnectToHRM",{})},e.ngInjectableDef=n.defineInjectable({factory:function(){return new e(n.inject(s.c))},token:e,providedIn:"root"}),e}(o.a)}}]);